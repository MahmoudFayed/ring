{
	"name": "ring",
	"scopeName": "source.ring",
	"fileTypes": [
		"ring",
		"rh",
		"rform"
	],
	"patterns": [
		{
			"include": "#comments"
		},
		{
			"include": "#keywords"
		},
		{
			"include": "#controls"
		},
		{
			"include": "#builtins"
		},
		{
			"include": "#types"
		},
		{
			"include": "#functions"
		},
		{
			"include": "#numbers"
		},
		{
			"include": "#special_values"
		},
		{
			"include": "#strings"
		},
		{
			"include": "#variables"
		},
		{
			"include": "#constants"
		},
		{
			"include": "#colon_literals"
		},
		{
			"include": "#operators"
		},
		{
			"include": "#logical_operators"
		},
		{
			"include": "#braces"
		},
		{
			"include": "#lists"
		},
		{
			"include": "#classes"
		}
	],
	"repository": {
		"comments": {
			"patterns": [
				{
					"match": "#.*$",
					"name": "comment.line.ring"
				},
				{
					"match": "//.*$",
					"name": "comment.line.ring"
				},
				{
					"begin": "/\\*",
					"end": "\\*/",
					"name": "comment.block.ring"
				}
			]
		},
		"keywords": {
			"match": "\\b(?i)(enablehashcomments|disablehashcomments|call|class|from|get|give|import|load|new|package|private|changeringkeyword|changeringoperator|loadsyntax|endclass|endpackage)\\b",
			"name": "keyword.control.ring"
		},
		"controls": {
			"match": "\\b(?i)(if|but|else|elseif|ok|for|foreach|to|next|catch|step|endfor|while|other|end|do|endwhile|endswitch|endtry|try|break|bye|continue|default|endfunc|endfunction|return|switch|case|on|off|do|again|exit|loop|done|in)\\b",
			"name": "keyword.control.conditional.ring"
		},
		"builtins": {
			"match": "\\b(?i)(nl|see|put|print)\\b|\\?",
			"name": "support.function.builtin.ring"
		},
		"types": {
			"match": "\\b(?i)(char|unsigned|signed|int|short|long|float|double|void|byte|boolean|string|list|number|object|public|static|abstract|protected|override|@override)\\b",
			"name": "storage.type.ring"
		},
		"functions": {
			"patterns": [
				{
					"match": "\\b(?i)(func|def)\\s+([a-zA-Z_]\\w*)",
					"captures": {
						"1": {
							"name": "storage.type.function.ring"
						},
						"2": {
							"name": "entity.name.function.ring"
						}
					}
				},
				{
					"match": "\\b(?!print|see|put\\b)([a-zA-Z_]\\w*)\\s*\\(",
					"captures": {
						"1": {
							"name": "support.function.ring"
						}
					}
				}
			]
		},
		"numbers": {
			"patterns": [
				{
					"match": "(?:(?:[-]?)(?:[0-9e]*)(?:[.]){1}(?:[0-9]+))",
					"name": "constant.numeric.float.decimal.ring"
				},
				{
					"match": "\\b(?:0[xX])(?:[0-9a-fA-F]+)",
					"name": "constant.numeric.hex.ring"
				},
				{
					"match": "\\b(?:[-]?)(?:[0-9]+)",
					"name": "constant.numeric.integer.decimal.ring"
				}
			]
		},
		"special_values": {
			"match": "\\b(?i)(true|false|null)\\b",
			"name": "constant.language.ring"
		},
		"strings": {
			"patterns": [
				{
					"name": "string.quoted.double.ring",
					"begin": "\"",
					"end": "\"",
					"patterns": [
						{
							"include": "#string_interpolation"
						}
					]
				},
				{
					"name": "string.quoted.single.ring",
					"begin": "'",
					"end": "'",
					"patterns": [
						{
							"match": "\\\\'|\\\\\\\\",
							"name": "constant.character.escape.ring"
						},
						{
							"include": "#string_interpolation"
						}
					]
				},
				{
					"name": "string.interpolated.ring",
					"begin": "`",
					"end": "`",
					"patterns": [
						{
							"include": "#string_interpolation"
						}
					]
				}
			]
		},
		"string_interpolation": {
			"patterns": [
				{
					"begin": "(#)({)",
					"beginCaptures": {
						"1": {
							"name": "punctuation.definition.template-expression.begin.ring"
						},
						"2": {
							"name": "punctuation.definition.template-expression.begin.ring"
						}
					},
					"end": "}",
					"endCaptures": {
						"0": {
							"name": "punctuation.definition.template-expression.end.ring"
						}
					},
					"name": "meta.template.expression.ring",
					"contentName": "meta.embedded.line.ring",
					"patterns": [
						{
							"include": "$self"
						}
					]
				},
				{
					"match": "#([A-Za-z_]\\w*)",
					"captures": {
						"0": {
							"name": "meta.template.expression.ring"
						},
						"1": {
							"name": "variable.other.interpolated.ring"
						}
					}
				}
			]
		},
		"variables": {
			"match": "\\b([a-zA-Z_]\\w*)\\s*(=)",
			"captures": {
				"1": {
					"name": "variable.other.ring"
				},
				"2": {
					"name": "keyword.operator.assignment.ring"
				}
			}
		},
		"constants": {
			"match": "\\b([A-Z][A-Z0-9_]*_[A-Z0-9_]*)\\b",
			"name": "constant.other.ring"
		},
		"colon_literals": {
			"match": "\\:([a-zA-Z_]\\w*)\\b",
			"name": "constant.other.ring"
		},
		"operators": {
			"match": "(\\+|~|-|\\*|/|%|&|(\\|)|\\^|!|<|>|=|\\.)",
			"name": "keyword.operator.ring"
		},
		"logical_operators": {
			"match": "\\b(and|or|not)\\b",
			"name": "keyword.operator.logical.ring"
		},
		"braces": {
			"match": "[{}]",
			"name": "punctuation.section.braces.ring"
		},
		"lists": {
			"begin": "\\[",
			"end": "\\]",
			"name": "meta.structure.list.ring",
			"patterns": [
				{
					"include": "$self"
				},
				{
					"match": ",",
					"name": "punctuation.separator.list.ring"
				}
			]
		},
		"classes": {
			"patterns": [
				{
					"match": "\\b(class)\\s+([A-Za-z_]\\w*)",
					"captures": {
						"1": {
							"name": "keyword.control.class.ring"
						},
						"2": {
							"name": "entity.name.type.class.ring"
						}
					}
				},
				{
					"match": "\\b(func|def)\\s+(init)\\b",
					"captures": {
						"1": {
							"name": "keyword.control.ring"
						},
						"2": {
							"name": "entity.name.function.constructor.ring"
						}
					}
				},
				{
					"match": "\\b(func|def)\\s+([A-Za-z_]\\w*)",
					"captures": {
						"1": {
							"name": "keyword.control.ring"
						},
						"2": {
							"name": "entity.name.function.ring"
						}
					}
				},
				{
					"match": "\\b(new)\\s+([A-Za-z_]\\w*)",
					"captures": {
						"1": {
							"name": "keyword.operator.new.ring"
						},
						"2": {
							"name": "support.class.ring"
						}
					}
				},
				{
					"match": "\\b(?i)self\\b",
					"name": "variable.language.self.ring"
				}
			]
		}
	}
}
